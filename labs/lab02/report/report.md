---
## Front matter
title: "Отчёт по лабораторной работе №2"
subtitle: "Операционные системы"
author: "Рогожина Надежда Александровна, НКАбд-02-22"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

- Изучить идеологию и применение средств контроля версий.

- Освоить умения по работе с git.

# Задание

1. Установка программного обеспечения

- Установка git

- Установка gh

2. Базовая настройка git

3. Создайте ключи ssh

4. Создайте ключи pgp

5. Настройка github

6. Добавление PGP ключа в GitHub

7. Настройка автоматических подписей коммитов git

8. Настройка gh

9. Шаблон для рабочего пространства

- Сознание репозитория курса на основе шаблона

- Настройка каталога курса

# Теоретическое введение

## Примеры использования git:

- Система контроля версий Git представляет собой набор программ командной строки. 
Доступ к ним можно получить из терминала посредством ввода команды git с различными опциями.

- Благодаря тому, что Git является распределённой системой контроля версий, резервную копию локального хранилища можно сделать простым копированием или архивацией.

## Основные команды git:

Например, в табл. @tbl:std-dir приведено краткое описание основных команд Git.

: Описание некоторых команд системы контроля версий Git {#tbl:std-dir}

| Команда | Описание команды                                                                                                          |
|--------------|----------------------------------------------------------------------------------------------------------------------------|
| git init     | Создание основного дерева репозитория  |
| git pull     | Получение обновлений(изменений текущего дерева из центрального репозитория |
| git push     | Отправка всех произведённых изменений локального дерева в центральный репозиторий |
| git status   | Просмотр списка изменённых файлов в текущей директории |
| git diff     | Просмотр текущих изменений  |
| git add .    | Добавление все изменённые и/или созданные файлы и/или каталоги |
| git rm имена_файлов | Удаление файлов и/или каталогов из индекса репозитория |
| git commit -am 'Описание коммита'| Сохранение всех добавленных изменений и всех изменённых файлов |
| git commit   | Сохранение добавленный изменений с внесением комментария через встроенный редактор |
| git checkout -b имя_ветки | Создание новой ветки, базирующейся на текущей | 
| git branch -d имя_ветки | Удаление локальной уже слитой с основным деревом ветки |
| git branch -D имя_ветки | Принудительное удаление локальной ветки |

Полный список команд можно посмотреть на официальном сайте: [Github.com](https://docs.github.com/en/get-started/using-github/github-command-palette)

# Выполнение лабораторной работы

Первоначально установим гит(рис. @fig:001):

![Установка системы контроля версий GIT](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/1.jpg){#fig:001 width=70%}

Производим первичную настройку параметров git, а именно:

1. Зададим имя и email владельца репозитория(рис. @fig:002):

![Первичная настройки git](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/2.jpg){#fig:002 width=70%}

2. Настроим utf-8 в выводе сообщений, а также зададим имя начальной ветки, установим параметры **autocrlf** и **safecrlf**(рис. @fig:003):

![Базовая настройка git](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/3.jpg){#fig:003 width=70%}

3. Создадим ключ *ssh* по алгоритму *rsa* с ключём размером 4096 бит(рис. @fig:005):

![Создание ssh-ключа](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/5.jpg){#fig:005 width=70%}

4. Создадим gpg-ключ(рис. @fig:006)(рис. @fig:007)(рис. @fig:008)(рис. @fig:009):

![Создание gpg-ключа](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/6.jpg){#fig:006 width=70%}

![Создание gpg-ключа (прод.)](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/7.jpg){#fig:007 width=70%}

![Ввод ключевой фразы](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/8.jpg){#fig:008 width=70%}

![Создание gpg-ключа](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/9.jpg){#fig:009 width=70%}

5. Настройка github(рис. @fig:010):

![Аккаунт github](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/10.jpg){#fig:010 width=70%}

6. Добавим PGP ключ в GitHub(рис. @fig:011)(рис. @fig:012)(рис. @fig:013):

![Вывод списка ключей](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/11.jpg){#fig:011 width=70%}

![Копирование отпечатка ключа](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/12.jpg){#fig:012 width=70%}

![Добавление ключа на github.com](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/13.jpg){#fig:013 width=70%}

7. Настройка автоматических подписей коммитов git(рис. @fig:014):

![Настройка коммитов](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/14.jpg){#fig:014 width=70%}

8. Настройка и авторизация в gh(рис. @fig:015)(рис. @fig:016)(рис. @fig:017):

![Авторизация в gh](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/15.jpg){#fig:015 width=70%}

![Подтверждение авторизации через браузер](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/16.jpg){#fig:016 width=70%}

![Подтверждение авторизации](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/17.jpg){#fig:017 width=70%}

9. Создание репозитория курса на основе шаблона(рис. @fig:018)(рис. @fig:019):

![Создание репозитория и копирование шаблона](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/18.jpg){#fig:018 width=70%}

![Подтвержение](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/19.jpg){#fig:019 width=70%}

10. Настройка репозитория и каталогов(рис. @fig:020):

Удаление лишний файлов, а также создание необходимых каталогов:

![Настройка каталогов](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/20.jpg){#fig:020 width=70%}

11. Отправка файлов на сервер(рис. @fig:021):

![Отправка файлов на сервер](/home/narogozhina/work/study/2022-2023/Операционные системы/os-intro/labs/lab02/report/image/21.jpg){#fig:021 width=70%}

# Выводы

В ходе данной лабораторной работы мы приобрели навыки работы с системой контроля версий git.

# Контрольные вопросы

1. Что такое системы контроля версий (VCS) и для решения каких задач они предназначаются?

Системы контроля версий (Version Control System, VCS) применяются при работе нескольких человек над одним проектом. 
Обычно основное дерево проекта хранится в локальном или удалённом репозитории, к которому настроен доступ для участников проекта. 
При внесении изменений в содержание проекта система контроля версий позволяет их фиксировать, совмещать изменения, произведённые разными участниками проекта, 
производить откат к любой более ранней версии проекта, если это требуется.

2. Объясните следующие понятия VCS и их отношения: хранилище, commit, история, рабочая копия.

**Хранилище** - место хранения всех версий и служебной информации.

**Commit** - (==версия) создание новой версии.

**История** - журнал изменений.

**Рабочая копия** - текущее состояние файлов проекта, основанное на версии из хранилища.

3. Что представляют собой и чем отличаются централизованные и децентрализованные VCS? Приведите примеры VCS каждого вида.

**Централированные** VCS имеют одно основное хранилище всего проекта, достаточно просты в использовании. 
Участник проекта (пользователь) перед началом работы посредством определённых команд получает нужную ему версию файлов. 
После внесения изменений, пользователь размещает новую версию в хранилище. При этом предыдущие версии не удаляются из центрального 
хранилища и к ним можно вернуться в любой момент. Сервер может сохранять не полную версию изменённых файлов, а производить так называемую 
дельта-компрессию — сохранять только изменения между последовательными версиями, что позволяет уменьшить объём хранимых данных. 
Необходимо подключение к сети. Например:

- Subversion

- CVS

- TFS, VAULT

- AccuRev 

**Децентрализованные** VCS характеризуются тем, что у каждого пользователя свой вариант репозитория. Присутствует возможность добавлять
 и забирать изменения из любого репозитория. Подключение к сети не нужно. Например:

- Git

- Mercurial

- Bazaar

4. Опишите действия с VCS при единоличной работе с хранилищем.

Системы контроля версий поддерживают возможность отслеживания и разрешения конфликтов, 
которые могут возникнуть при работе нескольких человек над одним файлом. Можно объединить (слить) изменения, 
сделанные разными участниками (автоматически или вручную), вручную выбрать нужную версию, отменить изменения вовсе или заблокировать файлы для изменения. 
В зависимости от настроек блокировка не позволяет другим пользователям получить рабочую копию или препятствует изменению рабочей 
копии файла средствами файловой системы ОС, обеспечивая таким образом, привилегированный доступ только одному пользователю, работающему с файлом.

5. Опишите порядок работы с общим хранилищем VCS.

Системы контроля версий поддерживают возможность отслеживания и разрешения конфликтов, 
которые могут возникнуть при работе нескольких человек над одним файлом. Можно объединить (слить) изменения, 
сделанные разными участниками (автоматически или вручную), вручную выбрать нужную версию, отменить изменения 
вовсе или заблокировать файлы для изменения. В зависимости от настроек блокировка не позволяет другим пользователям 
получить рабочую копию или препятствует изменению рабочей копии файла средствами файловой системы ОС, обеспечивая таким образом, 
привилегированный доступ только одному пользователю, работающему с файлом. Системы контроля версий также могут обеспечивать
дополнительные, более гибкие функциональные возможности. Например, они могут поддерживать работу с несколькими версиями одного файла,
сохраняя общую историю изменений до точки ветвления версий и собственные истории изменений каждой ветви. Кроме того, обычно доступна 
информация о том, кто из участников, когда и какие изменения вносил. Обычно такого рода информация хранится в журнале изменений,
доступ к которому можно ограничить.

6. Каковы основные задачи, решаемые инструментальным средством git?

У Git две основных задачи: первая — хранить информацию о всех изменениях в вашем коде, 
начиная с самой первой строчки, а вторая — обеспечение удобства командной работы над кодом.

Репозиторий Git — это место, где хранится ваш код и вся информация о его изменениях. 
Репозитории могут находиться у вас на компьютере, на компьютерах ваших коллег и на удалённом сервере.

7. Назовите и дайте краткую характеристику командам git.

Основные команды git:

| Команда | Описание команды  |
|--------------|---------------------------------------|
| git init     | Создание основного дерева репозитория  |
| git pull     | Получение обновлений(изменений текущего дерева из центрального репозитория |
| git push     | Отправка всех произведённых изменений локального дерева в центральный репозиторий |
| git status   | Просмотр списка изменённых файлов в текущей директории |
| git diff | Просмотр текущих изменений  |
| git add . | Добавление все изменённые и/или созданные файлы и/или каталоги |
| git rm имена_файлов | Удаление файлов и/или каталогов из индекса репозитория |
| git commit -am 'Описание коммита'| Сохранение всех добавленных изменений и всех изменённых файлов |
| git commit | Сохранение добавленный изменений с внесением комментария через встроенный редактор |
| git checkout -b имя_ветки | Создание новой ветки, базирующейся на текущей | 
| git branch -d имя_ветки | Удаление локальной уже слитой с основным деревом ветки |
| git branch -D имя_ветки | Принудительное удаление локальной ветки |

8. Приведите примеры использования при работе с локальным и удалённым репозиториями.

Удаленный репозиторий – это версии вашего проекта, сохраненные на удаленном сервере. 
Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети.
Если мы подключим удаленный репозиторий к своему локальному, то у нас появятся копии всех ссылочных 
объектов удаленного репозитория. То есть, например, у удаленного репозитория есть ветка main, а у нас будет 
копия этой ветки – origin/main. Все такие ссылочные объекты (указатели, ветки и теги) удаленного репозитория 
хранятся почти там же, где и у локального – в директории .git/refs/remotes/<имя_удаленного_репозитория>.

9. Что такое и зачем могут быть нужны ветви (branches)?

Ветки нужны, чтобы несколько программистов могли вести работу над одним и тем же проектом или даже файлом одновременно, 
при этом не мешая друг другу. Кроме того, ветки используются для тестирования экспериментальных функций: чтобы не повредить 
основному проекту, создается новая ветка специально для экспериментов.

10. Как и зачем можно игнорировать некоторые файлы при commit?

Git рассматривает каждый файл в вашей рабочей копии как файл одного из трех нижеуказанных типов.

Отслеживаемый файл — файл, который был предварительно проиндексирован или зафиксирован в коммите.
Неотслеживаемый файл — файл, который не был проиндексирован или зафиксирован в коммите.
Игнорируемый файл — файл, явным образом помеченный для Git как файл, который необходимо игнорировать.
Игнорируемые файлы — это, как правило, артефакты сборки и файлы, генерируемые машиной из исходных файлов в 
вашем репозитории, либо файлы, которые по какой-либо иной причине не должны попадать в коммиты. 

Вы можете создать файл .gitignore в корневом каталоге репозитория, чтобы сообщить Git, какие файлы и каталоги следует 
игнорировать при фиксации. Чтобы поделиться правилами игнорирования с другими пользователями, которые клонируют репозиторий, 
зафиксируйте файл .gitignore в репозитории.

# Список литературы{.unnumbered}

1. [Руководство по лабораторной работе №2](https://esystem.rudn.ru/mod/page/view.php?id=970819#org3b74ce0)

2. [Основная информация LINUX](https://uii.bitbucket.io/study/courses/cs/lecture02_vcs.slides-2021.pdf)

3. [Cистема контроля версий. Горвиц Евгений](https://glebradchenko.susu.ru/courses/bachelor/engineering/2016/SUSU_SE_2016_REP_3_VCS.pdf)

4. [Руководство пользования GIT](https://docs.github.com/ru/get-started/getting-started-with-git/ignoring-files)

::: {#refs}
:::
